<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Kapangan Wonders - Discover Benguet's Hidden Gem</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Playfair+Display:wght@400;700&display=swap" rel="stylesheet">
    <!-- jQuery UI CSS -->
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.13.2/themes/base/jquery-ui.css">
    <!-- Custom Styles -->
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="hero.css">
    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <!-- Custom Scripts -->
    <script src="index.js"></script>
    <script src="https://cdn.rawgit.com/davidshimjs/qrcodejs/gh-pages/qrcode.min.js"></script>
</head>
<body>
    <!-- Header -->
    <header class="header" id="header">
        
        <div class="nav-container">
            <a href="main.html" class="logo">Kapangan Wonders</a>
            
            <nav class="nav-menu" id="navMenu">
                <li class="nav-item">
                    <a href="#" class="nav-link" onclick="showHome()">Home</a>
                </li>
                <li class="nav-item">
                    <a href="#" class="nav-link" onclick="showAllTouristSpots()">Tourist Spots</a>
                </li>
                <li class="nav-item">
                    <a href="#" class="nav-link" onclick="showAccommodations()">Eat and Stay</i>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#" class="nav-link" onclick="showBlogsCustom()">Blogs</a>
                </li>
                <li class="nav-item">
                    <a href="#" class="nav-link" onclick="showContact()">Contact Us</a>
                </li>
                <!-- Mobile Auth Buttons -->
                <li class="nav-item mobile-auth-buttons">
                    <button class="btn btn-outline" onclick="openAuthModal('signin')">Sign In</button>
                    <button class="btn btn-primary" onclick="openAuthModal('signup')">Sign Up</button>
                </li>
                <!-- Mobile User Menu (hidden by default) -->
                <li class="nav-item mobile-user-menu" id="mobileUserMenu" style="display: none;">
                    <button class="btn btn-primary" onclick="showDashboard()">
                        <i class="fas fa-user"></i> <span id="mobileUserNameDisplay">User</span>
                    </button>
                    <button class="btn btn-outline" onclick="logout()">Logout</button>
                    <button class="btn btn-primary" id="mobileScheduleVisitBtn" onclick="scheduleVisit()">Schedule a Visit</button>
                </li>
            </nav>



            <div class="mobile-menu" onclick="toggleMobileMenu()">
                <i class="fas fa-bars"></i>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main id="mainContent">
        <!-- Hero Section -->
        <script>document.documentElement.classList.add('js');</script>
        <section class="hero" style="background-image: url('assets/Ampongot Rice Terraces (Sagubo).jpg'); background-size: cover; background-position: center; background-repeat: no-repeat; position: relative;">
            <!-- Overlay for better text readability -->
            <div style="position: absolute; top: 0; left: 0; right: 0; bottom: 0; background: rgba(0, 0, 0, 0.4);"></div>
            
            <div class="hero-content visible" id="heroContent" style="position: relative; z-index: 2;">
                <h1>Welcome to Kapangan</h1>
                <p>Discover the natural beauty and cultural heritage of Benguet's hidden gem. Explore majestic mountains, cascading waterfalls, and vibrant traditions.</p>
                <div class="hero-buttons">
                    <button class="btn btn-primary" onclick="showAllTouristSpots()">Browse Tourist Spots</button>
                    <button class="btn btn-outline" onclick="openAuthModal('signup')">Sign Up Now</button>
                </div>
            </div>
        </section>

        <!-- Featured Tourist Spots -->
        <section class="featured-spots" id="featuredSpots">
            <div class="container">
                <div class="section-header">
                    <h2><i class="fas fa-star"></i> Featured Tourist Spots</h2>
                    <p>Discover the most popular destinations in Kapangan</p>
                </div>
                <div class="spots-grid" id="featuredSpotsGrid">
                    <!-- Featured tourist spots will be populated by JavaScript -->
                </div>
            </div>
        </section>

        <!-- Advisories Section -->
        <section class="advisories-section" id="advisoriesSection">
            <div class="container">
                <div class="section-header">
                    <h2><i class="fas fa-bullhorn"></i> Advisories</h2>
                    <p>Important updates and announcements for visitors</p>
                </div>
                <div class="advisory-carousel-container">
                    <button class="carousel-btn prev" onclick="moveAdvisoryCarousel(-1)"><i class="fas fa-chevron-left"></i></button>
                    <div class="advisory-carousel" id="advisoryCarousel">
                        <div class="advisory-card">
                            <div class="advisory-icon weather"><i class="fas fa-cloud-rain"></i></div>
                            <div>
                                <h3>Weather Alert: Heavy Rainfall Expected</h3>
                                <p>Please be advised that heavy rainfall is expected this weekend. Exercise caution when visiting waterfalls and rivers. Some trails may be slippery or temporarily closed.</p>
                                <p class="advisory-author">By Kapangan Tourism</p>
                                <p class="advisory-date">June 10, 2025</p>
                            </div>
                        </div>
                        <div class="advisory-card">
                            <div class="advisory-icon event"><i class="fas fa-calendar-alt"></i></div>
                            <div>
                                <h3>Barangay Fiesta: Road Closures in Cuba</h3>
                                <p>Barangay Cuba will celebrate its annual fiesta on June 15. Expect road closures and rerouting from 8:00 AM to 5:00 PM. Plan your visit accordingly.</p>
                                <p class="advisory-author">By Barangay Cuba</p>
                                <p class="advisory-date">June 8, 2025</p>
                            </div>
                        </div>
                        <div class="advisory-card">
                            <div class="advisory-icon maintenance"><i class="fas fa-tools"></i></div>
                            <div>
                                <h3>Trail Maintenance: Temporary Closure</h3>
                                <p>The hiking trail to Mt. Dakiwagan will be closed for maintenance from July 1 to July 7, 2025. Please plan your hikes accordingly and check for updates before your visit.</p>
                                <p class="advisory-author">By Kapangan Tourism Office</p>
                                <p class="advisory-date">June 20, 2025</p>
                            </div>
                        </div>
                        <div class="advisory-card">
                            <div class="advisory-icon weather"><i class="fas fa-sun"></i></div>
                            <div>
                                <h3>Heat Advisory: Stay Hydrated</h3>
                                <p>High temperatures are expected this week. Drink plenty of water and wear sun protection when exploring outdoor spots.</p>
                                <p class="advisory-author">By Municipal Health Office</p>
                                <p class="advisory-date">June 22, 2025</p>
                            </div>
                        </div>
                        <div class="advisory-card">
                            <div class="advisory-icon event"><i class="fas fa-mountain"></i></div>
                            <div>
                                <h3>Mountain Climbing Event</h3>
                                <p>Join the annual Kapangan Mountain Climb on July 15. Registration is open at the tourism office. Limited slots only!</p>
                                <p class="advisory-author">By Kapangan Mountaineers</p>
                                <p class="advisory-date">June 25, 2025</p>
                            </div>
                        </div>
                        <div class="advisory-card">
                            <div class="advisory-icon maintenance"><i class="fas fa-road"></i></div>
                            <div>
                                <h3>Road Repair: Delays Expected</h3>
                                <p>Ongoing road repairs along the main highway may cause travel delays. Please allow extra time for your journey.</p>
                                <p class="advisory-author">By DPWH</p>
                                <p class="advisory-date">June 28, 2025</p>
                            </div>
                        </div>
                    </div>
                    <button class="carousel-btn next" onclick="moveAdvisoryCarousel(1)"><i class="fas fa-chevron-right"></i></button>
                </div>
            </div>
        </section>



        <!-- All Tourist Spots Section -->
        <section class="all-tourist-spots" id="allTouristSpots" style="display: none;">
            <div class="container">
                <div class="section-header">
                    <h2><i class="fas fa-map-marked-alt"></i> All Tourist Spots</h2>
                    <p>Explore all the amazing destinations in Kapangan</p>
                </div>

                <div class="filter-tabs">
                    <div class="filter-tab active" onclick="filterSpots('all')">
                        <i class="fas fa-globe"></i> All
                    </div>
                    <div class="filter-tab" onclick="filterSpots('waterfalls')">
                        <i class="fas fa-water"></i> Waterfalls
                    </div>
                    <div class="filter-tab" onclick="filterSpots('mountains')">
                        <i class="fas fa-mountain"></i> Mountains
                    </div>
                    <div class="filter-tab" onclick="filterSpots('rivers')">
                        <i class="fas fa-water"></i> Rivers
                    </div>
                    <div class="filter-tab" onclick="filterSpots('viewpoint')">
                        <i class="fas fa-eye"></i> Viewpoints
                    </div>
                    <div class="filter-tab" onclick="filterSpots('private')">
                        <i class="fas fa-lock"></i> Private Spot
                    </div>
                </div>

                <div class="spots-grid" id="spotsGrid">
                    <!-- All tourist spots will be populated by JavaScript -->
                </div>
            </div>
        </section>

         <!-- Blog Section -->
         <section class="blog-section" id="blogSection" style="display: none;">
            <div class="container">
                <div class="section-header">
                    <h2><i class="fas fa-blog"></i> Kapangan Tourism Blog</h2>
                    <p>Stay updated with travel tips, local stories, and destination guides</p>
                </div>
                
                <!-- Blog Category Tabs -->
                <div class="filter-tabs" id="blogCategoryTabs" style="margin-bottom: 1.5rem;">
                    <!-- Tabs will be populated by JavaScript -->
                </div>
                
                <div class="blog-grid" id="blogGrid">
                    <!-- Blog posts will be populated by JavaScript -->
                </div>
            </div>
        </section>



<!-- Accommodations Section -->
<section class="accommodations-section" id="accommodationsSection" style="display: none;">
    <div class="container">
        <div class="section-header">
            <h2><i class="fas fa-utensils"></i> Eat and Stay in Kapangan</h2>
            <p>Discover comfortable accommodations and delicious dining options</p>
        </div>

        <!-- Enhanced Tabs Navigation -->
        <div class="tabs-container">
            <div class="tabs">
                <button class="tab-btn active" data-tab="accommodations">
                    <i class="fas fa-bed"></i> Accommodations
                </button>
                <button class="tab-btn" data-tab="restaurants">
                    <i class="fas fa-utensils"></i> Restaurants
                </button>
            </div>

            <!-- Tab Content -->
            <div class="tab-content">
                <!-- Accommodations Tab -->
                <div id="accommodations" class="tab-pane active">
                    <div class="accommodations-grid">
                        <div class="accommodation-card">
                            <div class="card-image-container">
                                <img src="assets/Avong Nen Suvani (Datakan).jpg" alt="Avong Nen Suvani">
                                <div class="card-overlay">
                                    <span class="accommodation-type">
                                        <i class="fas fa-home"></i> Homestay
                                    </span>
                                </div>
                            </div>
                            <div class="accommodation-info">
                                <div class="accommodation-header">
                                    <h4><i class="fas fa-mountain"></i> Avong Nen Suvani</h4>
                                </div>
                                <p class="accommodation-description">Enjoy a cozy stay with stunning mountain views and genuine Cordilleran hospitality.</p>
                                
                                <div class="accommodation-details">
                                    <div class="detail-item">
                                        <i class="fas fa-map-marker-alt"></i>
                                        <span><strong>Location:</strong> Barangay Datakan</span>
                                    </div>
                                    <div class="detail-item">
                                        <i class="fas fa-money-bill-wave"></i>
                                        <span><strong>Rate:</strong> ₱800 per night</span>
                                    </div>
                                    <div class="detail-item">
                                        <i class="fas fa-phone"></i>
                                        <span><strong>Contact:</strong> <a href="tel:09503227830">0950 322 7830</a></span>
                                    </div>
                                </div>
                                
                                <div class="accommodation-actions">
                                    <a href="https://www.facebook.com/p/Avong-Nen-Suvani-100069230178126/" target="_blank" class="fb-link">
                                        <i class="fab fa-facebook"></i> Visit Facebook
                                    </a>
                                </div>
                            </div>
                        </div>

                        <div class="accommodation-card">
                            <div class="card-image-container">
                                <img src="assets/mayflor.jpg" alt="Mayflor Fastfood Haus and Lodging">
                                <div class="card-overlay">
                                    <span class="accommodation-type">
                                        <i class="fas fa-hotel"></i> Lodging
                                    </span>
                                </div>
                            </div>
                            <div class="accommodation-info">
                                <div class="accommodation-header">
                                    <h4><i class="fas fa-users"></i> Mayflor Fastfood Haus and Lodging</h4>
                                </div>
                                <p class="accommodation-description">Experience rural living and traditional Cordilleran life with a local host family.</p>
                                
                                <div class="accommodation-details">
                                    <div class="detail-item">
                                        <i class="fas fa-map-marker-alt"></i>
                                        <span><strong>Location:</strong> Barangay Cuba</span>
                                    </div>
                                    <div class="detail-item">
                                        <i class="fas fa-money-bill-wave"></i>
                                        <span><strong>Rate:</strong> ₱600 per night</span>
                                    </div>
                                    <div class="detail-item">
                                        <i class="fas fa-phone"></i>
                                        <span><strong>Contact:</strong> <a href="tel:09212435406">0921 243 5406</a></span>
                                    </div>
                                </div>
                                
                                <div class="accommodation-actions">
                                    <a href="https://www.facebook.com/maylorzzz/" target="_blank" class="fb-link">
                                        <i class="fab fa-facebook"></i> Visit Facebook
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Restaurants Tab -->
                <div id="restaurants" class="tab-pane">
                    <div class="accommodations-grid">
                        <div class="accommodation-card">
                            <div class="card-image-container">
                                <img src="assets/Image.jpg" alt="Marianos Restaurant">
                                <div class="card-overlay">
                                    <span class="accommodation-type">
                                        <i class="fas fa-utensils"></i> Restaurant
                                    </span>
                                </div>
                            </div>
                            <div class="accommodation-info">
                                <div class="accommodation-header">
                                    <h4><i class="fas fa-utensils"></i> Marianos Restaurant</h4>
                                </div>
                                <p class="accommodation-description">Marianos Rice is our best selling come and have a taste of it.</p>
                                
                                <div class="accommodation-details">
                                    <div class="detail-item">
                                        <i class="fas fa-map-marker-alt"></i>
                                        <span><strong>Location:</strong> Barangay Lomon</span>
                                    </div>
                                    <div class="detail-item">
                                        <i class="fas fa-clock"></i>
                                        <span><strong>Hours:</strong> 7:00 AM - 9:00 PM</span>
                                    </div>
                                    <div class="detail-item">
                                        <i class="fas fa-phone"></i>
                                        <span><strong>Contact:</strong> <a href="tel:09454520117">09454520117</a></span>
                                    </div>
                                </div>
                                
                                <div class="accommodation-actions">
                                    <a href="https://www.facebook.com/profile.php?id=61559563714525" target="_blank" class="fb-link">
                                        <i class="fab fa-facebook"></i> Visit Facebook
                                    </a>
                                </div>
                            </div>
                        </div>

                        <div class="accommodation-card">
                            <div class="card-image-container">
                                <img src="assets/Image (1).jpg" alt="Pakawan Restaurant">
                                <div class="card-overlay">
                                    <span class="accommodation-type">
                                        <i class="fas fa-utensils"></i> Restaurant
                                    </span>
                                </div>
                            </div>
                            <div class="accommodation-info">
                                <div class="accommodation-header">
                                    <h4><i class="fas fa-utensils"></i> Pakawan Restaurant</h4>
                                </div>
                                <p class="accommodation-description">Enjoy our Pakawan style dishes!</p>
                                
                                <div class="accommodation-details">
                                    <div class="detail-item">
                                        <i class="fas fa-map-marker-alt"></i>
                                        <span><strong>Location:</strong> Barangay Cuba</span>
                                    </div>
                                    <div class="detail-item">
                                        <i class="fas fa-clock"></i>
                                        <span><strong>Hours:</strong> 8:00 AM - 8:00 PM</span>
                                    </div>
                                    <div class="detail-item">
                                        <i class="fas fa-phone"></i>
                                        <span><strong>Contact:</strong> <a href="tel:090724810971">090724810971</a></span>
                                    </div>
                                </div>
                                
                                <div class="accommodation-actions">
                                    <a href="https://www.facebook.com/p/Pakawan-Restaurant-61556526209239/" target="_blank" class="fb-link">
                                        <i class="fab fa-facebook"></i> Visit Facebook
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>


<!-- Contact Us Section -->
<section id="contactSection" style="display: none;">
    <div class="container">
        <div class="section-header">
            <h2>Contact Us</h2>
            <p>Reach out to the Municipal Tourism Office for inquiries and assistance.</p>
        </div>

        <div class="contact-container">
            <!-- Left Column: Contact Information -->
            <div class="contact-info-card">
                <div class="contact-header">
                    <i class="fas fa-building"></i>
                    <h3>Our Office</h3>
                </div>
                
                <div class="contact-details-grid">
                    <div class="contact-item">
                        <div class="contact-icon">
                            <i class="fas fa-map-marker-alt"></i>
                        </div>
                        <div class="contact-content">
                            <h4>Office Location</h4>
                            <p>Municipal Tourism Office, Kapangan, Benguet</p>
                        </div>
                    </div>

                    <div class="contact-item">
                        <div class="contact-icon">
                            <i class="fas fa-phone"></i>
                        </div>
                        <div class="contact-content">
                            <h4>Phone</h4>
                            <p><a href="tel:+631234567890">+63 (123) 456-7890</a></p>
                        </div>
                    </div>

                    <div class="contact-item">
                        <div class="contact-icon">
                            <i class="fas fa-envelope"></i>
                        </div>
                        <div class="contact-content">
                            <h4>Email</h4>
                            <p><a href="mailto:info@kapanganwonders.com">info@kapanganwonders.com</a></p>
                        </div>
                    </div>

                    <div class="contact-item">
                        <div class="contact-icon">
                            <i class="fas fa-clock"></i>
                        </div>
                        <div class="contact-content">
                            <h4>Office Hours</h4>
                            <p>Monday - Friday: 8:00 AM - 5:00 PM</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Right Column: Travel Information -->
            <div class="travel-info-card">
                <div class="contact-header">
                    <i class="fas fa-route"></i>
                    <h3>Getting to Kapangan</h3>
                </div>
                
                <div class="travel-methods">
                    <div class="travel-method">
                        <div class="travel-icon">
                            <i class="fas fa-car"></i>
                        </div>
                        <div class="travel-content">
                            <h4>By Private Vehicle</h4>
                            <p>From Baguio City: Take the Naguilian Road towards La Trinidad. Continue to Kapangan via the Benguet-Nueva Vizcaya Road.</p>
                            <div class="travel-details">
                                <span class="travel-time"><i class="fas fa-clock"></i> 1.5–2 hours</span>
                                <span class="travel-distance"><i class="fas fa-road"></i> ~45 km</span>
                            </div>
                        </div>
                    </div>

                    <div class="travel-method">
                        <div class="travel-icon">
                            <i class="fas fa-bus"></i>
                        </div>
                        <div class="travel-content">
                            <h4>By Public Transportation</h4>
                            <p>Regular buses and jeepneys depart from Baguio's Dangwa Terminal to Kapangan.</p>
                            <div class="travel-details">
                                <span class="travel-time"><i class="fas fa-clock"></i> ~2 hours</span>
                                <span class="travel-fare"><i class="fas fa-money-bill"></i> ₱80–₱100</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

    </main>

    <!-- User Dashboard -->
    <div class="dashboard" id="dashboard">
        <!-- Dashboard Header with Notifications -->
        <div class="dashboard-header">
            <div class="dashboard-header-content">
                <div class="dashboard-title">
                    <i class="fas fa-tachometer-alt"></i>
                    <h1>My Dashboard</h1>
                </div>
                <div class="dashboard-actions">
                    <div class="notification-bell" onclick="toggleNotifications()">
                        <i class="fas fa-bell"></i>
                        <span class="notification-badge" id="notificationBadge">0</span>
                    </div>
                    <div class="user-menu-dropdown">
                        <div class="user-menu-trigger" onclick="toggleUserMenu()">
                            <div class="user-avatar" id="dashboardAvatar">U</div>
                            <span id="dashboardUserName">User Name</span>
                            <i class="fas fa-chevron-down"></i>
                        </div>
                        <div class="user-menu-dropdown-content" id="userMenuDropdown">
                            <a href="#" onclick="showDashboardSection('profile')">
                                <i class="fas fa-user"></i> Profile
                            </a>
                            <a href="#" onclick="logout()">
                                <i class="fas fa-sign-out-alt"></i> Logout
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Notifications Panel -->
        <div class="notifications-panel" id="notificationsPanel">
            <div class="notifications-header">
                <h3><i class="fas fa-bell"></i> Notifications</h3>
                <button class="close-notifications" onclick="toggleNotifications()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="notifications-list" id="notificationsList">
                <!-- Notifications will be populated here -->
            </div>
        </div>

        <div class="dashboard-container">
            <aside class="sidebar">
                <div class="sidebar-header">
                    <div class="user-profile">
                        <div class="user-avatar-large" id="sidebarAvatar">U</div>
                        <div class="user-info">
                            <h3 id="sidebarUserName">User Name</h3>
                            <p class="user-role"><i class="fas fa-user-tag"></i> Tourist</p>
                            <p class="user-status"><i class="fas fa-circle"></i> Online</p>
                        </div>
                    </div>
                </div>
                
                <nav class="sidebar-nav">
                    <div class="nav-section">
                        <h4 class="nav-section-title"><i class="fas fa-user-circle"></i> Account</h4>
                        <ul class="sidebar-menu">
                            <li class="sidebar-item">
                                <a href="#" class="sidebar-link active" onclick="showDashboardSection('profile')">
                                    <i class="fas fa-user"></i>
                                    <span>Profile</span>
                                    <div class="link-indicator"></div>
                                </a>
                            </li>
                            <li class="sidebar-item">
                                <a href="#" class="sidebar-link" onclick="showDashboardSection('overview')">
                                    <i class="fas fa-chart-line"></i>
                                    <span>Overview</span>
                                    <div class="link-indicator"></div>
                                </a>
                            </li>
                        </ul>
                    </div>

                    <div class="nav-section">
                        <h4 class="nav-section-title"><i class="fas fa-map-marked-alt"></i> Travel</h4>
                        <ul class="sidebar-menu">
                            <li class="sidebar-item">
                                <a href="#" class="sidebar-link" onclick="showDashboardSection('travels')">
                                    <i class="fas fa-calendar-check"></i>
                                    <span>My Travels</span>
                                    <div class="link-indicator"></div>
                                </a>
                            </li>
                            <li class="sidebar-item">
                                <a href="#" class="sidebar-link" onclick="showDashboardSection('placesVisited')">
                                    <i class="fas fa-map"></i>
                                    <span>Places Visited</span>
                                    <div class="link-indicator"></div>
                                </a>
                            </li>
                            <li class="sidebar-item">
                                <a href="#" class="sidebar-link" onclick="scheduleVisit()">
                                    <i class="fas fa-plus-circle"></i>
                                    <span>Schedule Visit</span>
                                    <div class="link-indicator"></div>
                                </a>
                            </li>
                        </ul>
                    </div>

                    <div class="nav-section">
                        <h4 class="nav-section-title"><i class="fas fa-bullhorn"></i> Updates</h4>
                        <ul class="sidebar-menu">
                            <li class="sidebar-item">
                                <a href="#" class="sidebar-link" onclick="showDashboardSection('announcements')">
                                    <i class="fas fa-bullhorn"></i>
                                    <span>Announcements</span>
                                    <div class="link-indicator"></div>
                                </a>
                            </li>
                            <li class="sidebar-item">
                                <a href="#" class="sidebar-link" onclick="showDashboardSection('notifications')">
                                    <i class="fas fa-bell"></i>
                                    <span>Notifications</span>
                                    <div class="link-indicator"></div>
                                </a>
                            </li>
                        </ul>
                    </div>
                </nav>
            </aside>

            <div class="main-content">
                <!-- Overview Section -->
                <div id="overviewSection" style="display: none;">
                    <div class="section-header">
                        <h2><i class="fas fa-chart-line"></i> Dashboard Overview</h2>
                        <p>Welcome back! Here's your travel summary</p>
                    </div>
                    
                    <div class="overview-cards">
                        <div class="overview-card">
                            <div class="card-icon">
                                <i class="fas fa-calendar-check"></i>
                            </div>
                            <div class="card-content">
                                <h3 id="totalTravels">0</h3>
                                <p>Scheduled Travels</p>
                            </div>
                        </div>
                        
                        <div class="overview-card">
                            <div class="card-icon">
                                <i class="fas fa-map-marker-alt"></i>
                            </div>
                            <div class="card-content">
                                <h3 id="totalPlaces">0</h3>
                                <p>Places Visited</p>
                            </div>
                        </div>
                        
                        <div class="overview-card">
                            <div class="card-icon">
                                <i class="fas fa-users"></i>
                            </div>
                            <div class="card-content">
                                <h3 id="totalCompanions">0</h3>
                                <p>Total Companions</p>
                            </div>
                        </div>
                        
                        <div class="overview-card">
                            <div class="card-icon">
                                <i class="fas fa-bell"></i>
                            </div>
                            <div class="card-content">
                                <h3 id="totalNotifications">0</h3>
                                <p>New Notifications</p>
                            </div>
                        </div>
                    </div>

                    <div class="recent-activities">
                        <h3><i class="fas fa-clock"></i> Recent Activities</h3>
                        <div class="activities-list" id="activitiesList">
                            <!-- Recent activities will be populated here -->
                        </div>
                    </div>
                </div>

                <!-- Profile Section -->
                <div id="profileSection">
                    <div class="section-header">
                        <h2><i class="fas fa-user"></i> Profile Information</h2>
                        <p>Manage your personal information and preferences</p>
                    </div>
                    
                    <div class="profile-container">
                        <div class="profile-avatar-section">
                            <div class="profile-avatar">
                                <div class="avatar-image" id="profileAvatarImage">U</div>
                                <button class="change-avatar-btn">
                                    <i class="fas fa-camera"></i>
                                </button>
                            </div>
                            <div class="profile-status">
                                <span class="status-indicator online"></span>
                                <span>Online</span>
                            </div>
                        </div>
                        
                        <form id="profileForm" class="profile-form">
                            <div class="form-row">
                                <div class="form-group">
                                    <label><i class="fas fa-user"></i> Full Name</label>
                                    <input type="text" id="profileName" required>
                                </div>
                                <div class="form-group">
                                    <label><i class="fas fa-envelope"></i> Email</label>
                                    <input type="email" id="profileEmail" required>
                                </div>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label><i class="fas fa-phone"></i> Phone</label>
                                    <input type="tel" id="profilePhone">
                                </div>
                                <div class="form-group">
                                    <label><i class="fas fa-birthday-cake"></i> Age</label>
                                    <input type="number" id="profileAge" min="1" max="120">
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label><i class="fas fa-map-marker-alt"></i> Address</label>
                                <textarea id="profileAddress" rows="3"></textarea>
                            </div>
                            
                            <div class="form-actions">
                                <button type="submit" class="btn btn-primary">
                                    <i class="fas fa-save"></i> Update Profile
                                </button>
                                <button type="button" class="btn btn-outline">
                                    <i class="fas fa-undo"></i> Reset
                                </button>
                            </div>
                        </form>
                    </div>
                </div>

                <!-- Travels Section -->
                <div id="travelsSection" style="display: none;">
                    <div class="section-header">
                        <h2><i class="fas fa-calendar-check"></i> My Scheduled Travels</h2>
                        <p>Manage your upcoming visits and travel plans</p>
                    </div>
                    
                    <div class="travels-container">
                        <div class="travels-header">
                            <div class="travels-stats">
                                <span class="stat-item">
                                    <i class="fas fa-calendar"></i>
                                    <span id="upcomingTravels">0</span> Upcoming
                                </span>
                                <span class="stat-item">
                                    <i class="fas fa-check-circle"></i>
                                    <span id="completedTravels">0</span> Completed
                                </span>
                            </div>
                            <button class="btn btn-primary" onclick="scheduleVisit()">
                                <i class="fas fa-plus"></i> Schedule New Visit
                            </button>
                        </div>
                        
                        <div class="table-responsive">
                            <table class="travels-table">
                                <thead style="background: #43a047; color: #fff;">
                                    <tr>
                                        
                                    </tr>
                                </thead>
                                <tbody id="travelsList">
                                    <!-- Scheduled travels will be displayed here -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>

                <!-- Announcements Section -->
                <div id="announcementsSection" style="display: none;">
                    <div class="section-header">
                        <h2><i class="fas fa-bullhorn"></i> Announcements</h2>
                        <p>Stay updated with the latest news and important notices</p>
                    </div>
                    
                    <div class="announcements-container">
                        <div class="announcement-tabs">
                            <button class="announcement-tab active" id="tabAnnouncement" onclick="switchAnnouncementTab('announcement')">
                                <i class="fas fa-bullhorn"></i> Announcements
                            </button>
                            <button class="announcement-tab" id="tabNotice" onclick="switchAnnouncementTab('notice')">
                                <i class="fas fa-exclamation-triangle"></i> Notices
                            </button>
                        </div>
                        
                        <div class="announcements-content" id="announcementsContainer">
                            <div class="announcement">
                                <div class="announcement-icon">
                                    <i class="fas fa-star"></i>
                                </div>
                                <div class="announcement-content">
                                    <h3>New Tourist Spot Added!</h3>
                                    <p>We are excited to announce the addition of "Manahongkong Falls" to our list of tourist spots. Visit now!</p>
                                    <div class="announcement-meta">
                                        <span><i class="fas fa-calendar"></i> June 15, 2025</span>
                                        <span><i class="fas fa-user"></i> Kapangan Tourism</span>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="announcement">
                                <div class="announcement-icon maintenance">
                                    <i class="fas fa-tools"></i>
                                </div>
                                <div class="announcement-content">
                                    <h3>Maintenance Notice</h3>
                                    <p>The "Puga Coffin Cave" will be closed for maintenance from July 15 to July 20, 2025.</p>
                                    <div class="announcement-meta">
                                        <span><i class="fas fa-calendar"></i> June 10, 2025</span>
                                        <span><i class="fas fa-user"></i> Tourism Office</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="announcements-content" id="noticesContainer" style="display: none;">
                            <!-- Violation notices will be injected here -->
                        </div>
                    </div>
                </div>

                <!-- Places Visited Section -->
                <div id="placesVisitedSection" style="display: none;">
                    <div class="section-header">
                        <h2><i class="fas fa-map"></i> Places Visited</h2>
                        <p>Track your travel history and visited destinations</p>
                    </div>
                    
                    <div class="places-container">
                        <div class="places-stats">
                            <div class="stat-card">
                                <i class="fas fa-map-marker-alt"></i>
                                <div>
                                    <h3 id="totalPlacesVisited">3</h3>
                                    <p>Places Visited</p>
                                </div>
                            </div>
                            <div class="stat-card">
                                <i class="fas fa-calendar-alt"></i>
                                <div>
                                    <h3 id="totalVisits">5</h3>
                                    <p>Total Visits</p>
                                </div>
                            </div>
                            <div class="stat-card">
                                <i class="fas fa-star"></i>
                                <div>
                                    <h3 id="favoritePlace">Badi Falls</h3>
                                    <p>Favorite Place</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="table-responsive">
                            <table class="travels-table">
                                <thead>
                                    <tr>
                                        <th><i class="fas fa-map-marker-alt"></i> Spot</th>
                                        <th><i class="fas fa-map"></i> Barangay</th>
                                        <th><i class="fas fa-calendar"></i> Date Visited</th>
                                        <th><i class="fas fa-star"></i> Rating</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr>
                                        <td>
                                            <div class="spot-info">
                                                <img src="assets/Amburayan Bridge (Cuba).jpg" alt="Amburayan Bridge">
                                                <span>Amburayan Bridge</span>
                                            </div>
                                        </td>
                                        <td><span class="badge">Cuba</span></td>
                                        <td>2025-06-10</td>
                                        <td><div class="rating"><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="far fa-star"></i></div></td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <div class="spot-info">
                                                <img src="assets/Badi Falls (Sagubo).jpg" alt="Badi Falls">
                                                <span>Badi Falls</span>
                                            </div>
                                        </td>
                                        <td><span class="badge">Sagubo</span></td>
                                        <td>2025-05-22</td>
                                        <td><div class="rating"><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i></div></td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <div class="spot-info">
                                                <img src="assets/Beleng-Belis Viewing Area.jpg" alt="Beleng-Belis Viewing Area">
                                                <span>Beleng-Belis Viewing Area</span>
                                            </div>
                                        </td>
                                        <td><span class="badge">Beleng-Belis</span></td>
                                        <td>2025-04-15</td>
                                        <td><div class="rating"><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="fas fa-star"></i><i class="far fa-star"></i><i class="far fa-star"></i></div></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- QR Code Modal -->
    <div id="qrModal" class="auth-modal">
        <div class="auth-modal-content">
            <span class="close" onclick="closeQRModal()">&times;</span>
            <h3>Your Visit QR Code</h3>
            <p>Show this QR code when you arrive at the tourist spot.</p>
            <div id="qrCode"></div>
            <div class="qr-info" id="qrInfo">
                <!-- Visit information will be displayed here -->
            </div>
            <div class="qr-actions" style="display: flex; gap: 10px; margin-top: 1rem;">
                <button class="btn btn-primary" onclick="downloadQRCode()" style="flex: 1;">
                    <i class="fas fa-download"></i> Download
                </button>
                <button class="btn btn-outline" onclick="closeQRModal()" style="flex: 1;">
                    Done
                </button>
            </div>
        </div>
    </div>

    <!-- Add Companion Modal -->
    <div id="addCompanionModal" class="auth-modal">
        <div class="auth-modal-content">
            <span class="close" onclick="closeAddCompanionModal()">&times;</span>
            <h3>Add Companion</h3>
            <form id="addCompanionForm" onsubmit="handleAddCompanion(event)">
                <div class="form-group">
                    <label>Companion Name</label>
                    <input type="text" id="companionName" required>
                </div>
                <div class="form-group">
                    <label>Age</label>
                    <input type="number" id="companionAge" required min="1" max="120">
                </div>
                <button type="submit" class="btn btn-primary">Add Companion</button>
            </form>
        </div>
    </div>

    <!-- Tourist Spot Modal -->
    <div id="spotModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal()">&times;</span>
            <div class="spot-modal-content" id="spotModalContent">
                <!-- Spot content will be dynamically inserted here -->
            </div>
        </div>
    </div>

    <!-- Auth Modal -->
    <div id="authModal" class="auth-modal">
        <div class="auth-modal-content">
            <span class="close" onclick="closeAuthModal()">&times;</span>
            
            <div class="auth-tabs">
                <div class="auth-tab active" onclick="switchAuthTab('signin')">Sign In</div>
                <div class="auth-tab" onclick="switchAuthTab('signup')">Sign Up</div>
            </div>

            <form class="auth-form active" id="signinForm" onsubmit="handleSignIn(event)">
                <div class="form-group">
                    <label for="signinEmail">Email</label>
                    <input type="email" id="signinEmail" name="email" required>
                </div>
                <div class="form-group">
                    <label for="signinPassword">Password</label>
                    <input type="password" id="signinPassword" name="password" required>
                </div>
                <button type="submit" class="btn btn-primary" style="width: 100%;">Sign In</button>
            </form>

            <div style="max-height: 400px; overflow-y: auto; padding: 10px; border: 1px solid #ccc;">
                <form class="auth-form" id="signupForm">
                    <div class="form-group">
                        <label>Full Name</label>
                        <input type="text" id="signupName" required>
                    </div>
                    <div class="form-group">
                        <label>Email</label>
                        <input type="email" id="signupEmail" required>
                    </div>
                    <div class="form-group">
                        <label>Password</label>
                        <input type="password" id="signupPassword" required>
                    </div>
                    <div class="form-group">
                        <label>Confirm Password</label>
                        <input type="password" id="signupConfirmPassword" required>
                    </div>
                    <div class="form-group">
                        <label>Phone Number</label>
                        <input type="tel" id="signupPhone" required>
                    </div>
                    <div class="form-group">
                        <label>Address</label>
                        <textarea id="signupAddress" rows="2" required></textarea>
                    </div>
                    <div class="form-group">
                        <label>Age</label>
                        <input type="number" id="signupAge" required>
                    </div>
                    <button type="submit" class="btn btn-primary" style="width: 100%;">Sign Up</button>
                </form>
            </div>
            
        </div>
    </div>

<!-- Schedule Visit Modal -->
<div id="scheduleModal" class="auth-modal">
    <div class="auth-modal-content landscape-modal">
        <span class="close" onclick="closeScheduleModal()">&times;</span>
        
        <h2>Schedule a Visit</h2>

        <div class="modal-body-landscape">
            <!-- Left Column: Advisories -->
            <div class="advisories-column">
                <div class="advisories-header">
                    <div class="advisory-header-icon">
                        <i class="fas fa-exclamation-triangle"></i>
                    </div>
                    <h4><i class="fas fa-bullhorn"></i> Important Advisories</h4>
                </div>
                <div class="advisories-list">
                    <div class="advisory-item">
                        <div class="advisory-icon weather">
                            <i class="fas fa-cloud-rain"></i>
                        </div>
                        <div class="advisory-content">
                            <h5><i class="fas fa-cloud"></i> Weather Alert</h5>
                            <p>Heavy rainfall expected this weekend. Exercise caution when visiting waterfalls.</p>
                            <span class="advisory-date"><i class="fas fa-calendar"></i> June 10, 2025</span>
                        </div>
                    </div>
                    
                    <div class="advisory-item">
                        <div class="advisory-icon event">
                            <i class="fas fa-calendar-alt"></i>
                        </div>
                        <div class="advisory-content">
                            <h5><i class="fas fa-star"></i> Barangay Fiesta</h5>
                            <p>Road closures in Cuba from 8:00 AM to 5:00 PM on June 15.</p>
                            <span class="advisory-date"><i class="fas fa-calendar"></i> June 8, 2025</span>
                        </div>
                    </div>
                    
                    <div class="advisory-item">
                        <div class="advisory-icon maintenance">
                            <i class="fas fa-tools"></i>
                        </div>
                        <div class="advisory-content">
                            <h5><i class="fas fa-wrench"></i> Trail Maintenance</h5>
                            <p>Mt. Dakiwagan trail closed for maintenance from July 1-7, 2025.</p>
                            <span class="advisory-date"><i class="fas fa-calendar"></i> June 20, 2025</span>
                        </div>
                    </div>
                    
                </div>
            </div>

            <!-- Right Column: Schedule Form -->
            <div class="schedule-column">
                <div class="form-header">
                    <div class="form-header-icon">
                        <i class="fas fa-clipboard-list"></i>
                    </div>
                    <h4><i class="fas fa-edit"></i> Visit Details</h4>
                </div>
                
                <form id="scheduleForm" class="schedule-form-wide" onsubmit="handleScheduleSubmit(event)">
                    
                    <!-- Waiver Notice -->
                    <div class="form-group waiver">
                        <div class="waiver-header">
                            <i class="fas fa-shield-alt"></i>
                            <span>Safety Waiver</span>
                        </div>
                        <p>
                            <strong>Waiver:</strong> By proceeding, I acknowledge that I am responsible for my personal health and safety during the visit. I accept any risks associated with outdoor activities, weather conditions, or physical exertion. I also agree to follow all Barangay tourism guidelines.
                        </p>
                    </div>

                    <!-- Personal Information Section -->
                    <div class="form-section">
                        <div class="section-header">
                            <i class="fas fa-user"></i>
                            <h5>Personal Information</h5>
                        </div>
                        
                        <div class="form-group">
                            <label><i class="fas fa-user-circle"></i> Full Name</label>
                            <input type="text" id="scheduleUserName" required>
                        </div>

                        <div class="form-group">
                            <label><i class="fas fa-envelope"></i> Email</label>
                            <input type="email" id="scheduleUserEmail" required>
                        </div>

                        <div class="form-group">
                            <label><i class="fas fa-birthday-cake"></i> Age</label>
                            <input type="number" id="scheduleUserAge" required>
                        </div>
                    </div>

                    <!-- Destination Selection Section -->
                    <div class="form-section">
                        <div class="section-header">
                            <i class="fas fa-map-marker-alt"></i>
                            <h5>Destination Selection</h5>
                        </div>
                        
                        <!-- Barangay Selection with Checkboxes -->
                        <div class="form-group">
                            <label><i class="fas fa-building"></i> Select Barangay(s) <span class="helper-text">(Select one or more)</span></label>
                            <div class="checkbox-group" id="barangayCheckboxGroup">
                                <label class="checkbox-label">
                                    <input type="checkbox" name="barangay" value="Balakbak" onchange="updateSpotCheckboxes()">
                                    <span><i class="fas fa-mountain"></i> Balakbak</span>
                                </label>
                                <label class="checkbox-label">
                                    <input type="checkbox" name="barangay" value="Cuba" onchange="updateSpotCheckboxes()">
                                    <span><i class="fas fa-water"></i> Cuba</span>
                                </label>
                                <label class="checkbox-label">
                                    <input type="checkbox" name="barangay" value="Beleng-Belis" onchange="updateSpotCheckboxes()">
                                    <span><i class="fas fa-eye"></i> Beleng-Belis</span>
                                </label>
                                <label class="checkbox-label">
                                    <input type="checkbox" name="barangay" value="Taba-ao" onchange="updateSpotCheckboxes()">
                                    <span><i class="fas fa-mountain"></i> Taba-ao</span>
                                </label>
                                <label class="checkbox-label">
                                    <input type="checkbox" name="barangay" value="Toplac" onchange="updateSpotCheckboxes()">
                                    <span><i class="fas fa-leaf"></i> Toplac</span>
                                </label>
                                <label class="checkbox-label">
                                    <input type="checkbox" name="barangay" value="Labueg" onchange="updateSpotCheckboxes()">
                                    <span><i class="fas fa-seedling"></i> Labueg</span>
                                </label>
                                <label class="checkbox-label">
                                    <input type="checkbox" name="barangay" value="Payapay" onchange="updateSpotCheckboxes()">
                                    <span><i class="fas fa-home"></i> Payapay</span>
                                </label>
                                <label class="checkbox-label">
                                    <input type="checkbox" name="barangay" value="Pudtong" onchange="updateSpotCheckboxes()">
                                    <span><i class="fas fa-tree"></i> Pudtong</span>
                                </label>
                            </div>

                        </div>

                        <!-- Tourist Spots Checkboxes -->
                        <div class="form-group">
                            <label><i class="fas fa-map-pin"></i> Select Tourist Spot(s) <span class="helper-text">(Select one or more)</span></label>
                            <div class="checkbox-group" id="spotCheckboxGroup">
                                <!-- Spots will be populated by JavaScript -->
                                <p class="placeholder-text"><i class="fas fa-info-circle"></i> Please select one or more barangays first</p>
                            </div>
                            <small id="spotError" class="error-message"><i class="fas fa-exclamation-circle"></i> Please select at least one tourist spot</small>
                        </div>
                    </div>

                    <!-- NEW: Barangay-specific schedule forms -->
                    <div id="barangaySchedulesGroup"></div>

                    <!-- Declaration Section -->
                    <div class="form-section">
                        <div class="section-header">
                            <i class="fas fa-check-circle"></i>
                            <h5>Declaration</h5>
                        </div>
                        
                        <div class="form-group declaration-group">
                            <label class="declaration-label">
                                <input type="checkbox" id="medicalDeclaration" required>
                                <span><i class="fas fa-heart"></i> I declare that I have no known serious medical condition that would prevent me from participating in this visit.</span>
                            </label>
                        </div>
                    </div>

                    <button type="submit" class="btn btn-primary submit-btn">
                        <i class="fas fa-paper-plane"></i> Submit Schedule
                    </button>
                </form>
            </div>
        </div>
    </div>
</div>

<!-- Add Companion Modal -->
<div id="addCompanionModal" class="auth-modal" style="display: none;">
    <div class="auth-modal-content">
        <span class="close" onclick="closeAddCompanionModal()">&times;</span>
        <h3>Add Companion</h3>
        <form id="addCompanionForm" onsubmit="handleAddCompanion(event)">
            <div class="form-group">
                <label>Companion Name</label>
                <input type="text" id="companionName" required>
            </div>
            <div class="form-group">
                <label>Companion Age</label>
                <input type="number" id="companionAge" required>
            </div>
            <button type="submit" class="btn btn-primary" style="width: 100%;">Add Companion</button>
        </form>
    </div>
</div>

<!-- Blog Modal -->
<div id="blogModal" class="modal">
    <div class="modal-content">
        <span class="close" onclick="closeBlogModal()">&times;</span>
        <div class="blog-modal-content" id="blogModalContent">
            <!-- Blog content will be dynamically inserted here -->
        </div>
    </div>
</div>

    <!-- Blog functionality script - load before script.js to avoid conflicts -->
    <script>
    // --- BLOG DATA & RENDERING ---
    const sampleBlogs = [
        {
            barangay: "Balakbak",
            blogs: [
                {
                    title: "Exploring the Hidden Trails of Balakbak",
                    date: "2025-06-01",
                    author: "Maria Santos",
                    image: "assets/Mt. Dakiwagan (Balakbak).jpg",
                    content: "Balakbak offers scenic trails perfect for hiking enthusiasts. Discover lush forests and panoramic views as you trek through this beautiful barangay. The trails lead to breathtaking viewpoints and hidden waterfalls that showcase the natural beauty of the Cordilleras.",
                },
                {
                    title: "Balakbak's Local Cuisine: A Foodie's Guide",
                    date: "2025-06-05",
                    author: "Juan Dela Cruz",
                    image: "assets/Obellan-Catampan Rice Terraces (Balakbak).jpg",
                    content: "Taste the unique flavors of Balakbak! From traditional Cordilleran dishes to modern twists, this barangay is a haven for food lovers. Experience the rich culinary heritage that has been passed down through generations.",
                },
                {
                    title: "Cultural Festivals in Balakbak",
                    date: "2025-06-10",
                    author: "Ana Reyes",
                    image: "assets/Longog Cave (Balakbak).jpg",
                    content: "Experience vibrant festivals and learn about the rich cultural heritage of Balakbak. Join the locals in their celebrations and discover the deep-rooted traditions that make this barangay special.",
                }
            ]
        },
        {
            barangay: "Cuba",
            blogs: [
                {
                    title: "A Day at Amburayan Bridge",
                    date: "2025-06-02",
                    author: "Pedro Martinez",
                    image: "assets/Amburayan Bridge (Cuba).jpg",
                    content: "Amburayan Bridge is not just a crossing—it's a destination! Enjoy the river views and the friendly community of Cuba. This iconic bridge connects communities and offers stunning views of the Amburayan River below.",
                },
                {
                    title: "Cuba's Best Homestays Reviewed",
                    date: "2025-06-07",
                    author: "Carmen Garcia",
                    image: "assets/Amburayan River (Taba-ao).jpg",
                    content: "Looking for a place to stay? We review the top homestays in Cuba for comfort, hospitality, and value. Experience authentic Cordilleran hospitality in the heart of this beautiful barangay.",
                },
                {
                    title: "Barangay Cuba Fiesta: A Photo Story",
                    date: "2025-06-15",
                    author: "Luis Fernandez",
                    image: "assets/Mt. Kalukasog (Cuba).jpg",
                    content: "Relive the excitement of Cuba's annual fiesta with our exclusive photo story. See the colors, dances, and smiles that make this celebration a must-experience event for visitors.",
                }
            ]
        },
        {
            barangay: "Beleng-Belis",
            blogs: [
                {
                    title: "Beleng-Belis Viewing Area: Sunrise Magic",
                    date: "2025-06-03",
                    author: "Isabella Torres",
                    image: "assets/Beleng-Belis Viewing Area.jpg",
                    content: "Wake up early and catch the breathtaking sunrise at Beleng-Belis Viewing Area. Tips for the best experience and the perfect timing to capture the most stunning views of the Cordilleras.",
                },
                {
                    title: "Eco-Friendly Travel in Beleng-Belis",
                    date: "2025-06-08",
                    author: "Roberto Silva",
                    image: "assets/Kapangan Museum.jpg",
                    content: "Learn how to travel sustainably in Beleng-Belis and help preserve its natural wonders for future generations. Discover eco-friendly practices and responsible tourism initiatives.",
                },
                {
                    title: "Meet the Artisans of Beleng-Belis",
                    date: "2025-06-12",
                    author: "Elena Rodriguez",
                    image: "assets/Municipal Hall (Paykek).jpg",
                    content: "Discover the talented artisans of Beleng-Belis and their beautiful handwoven crafts. Learn about traditional weaving techniques and support local craftsmanship.",
                }
            ]
        },
        {
            barangay: "Sagubo",
            blogs: [
                {
                    title: "Camp Utopia: A Hiker's Paradise",
                    date: "2025-06-04",
                    author: "Miguel Lopez",
                    image: "assets/Camp Utopia (Sagubo).jpg",
                    content: "Camp Utopia offers the perfect escape for nature lovers and hiking enthusiasts. With its pristine trails and stunning mountain views, it's a paradise for outdoor adventures.",
                },
                {
                    title: "Badi Falls: Nature's Hidden Gem",
                    date: "2025-06-09",
                    author: "Sofia Mendoza",
                    image: "assets/Badi Falls (Sagubo).jpg",
                    content: "Discover the hidden beauty of Badi Falls, a natural wonder that showcases the pristine beauty of Sagubo's landscape. Perfect for nature photography and peaceful contemplation.",
                },
                {
                    title: "Puga Coffin Cave: Cultural Heritage",
                    date: "2025-06-14",
                    author: "Carlos Ruiz",
                    image: "assets/Puga Coffin Cave (Sagubo).jpg",
                    content: "Explore the historical significance of Puga Coffin Cave and learn about the ancient burial traditions of the Cordilleran people. A journey through time and culture.",
                }
            ]
        },
        {
            barangay: "Taba-ao",
            blogs: [
                {
                    title: "Taba-ao Viewdeck: Panoramic Views",
                    date: "2025-06-06",
                    author: "Gabriela Santos",
                    image: "assets/Taba-ao Viewdeck (Taba-ao).jpg",
                    content: "Experience breathtaking panoramic views from the Taba-ao Viewdeck. This vantage point offers some of the most spectacular views of the Cordilleras and surrounding valleys.",
                },
                {
                    title: "Dangwa Cave: Underground Adventure",
                    date: "2025-06-11",
                    author: "Diego Morales",
                    image: "assets/Dangwa Cave (Taba-ao).jpg",
                    content: "Embark on an underground adventure at Dangwa Cave. Discover the fascinating rock formations and learn about the geological history of this natural wonder.",
                },
                {
                    title: "Ampongot Rice Terraces: Agricultural Heritage",
                    date: "2025-06-16",
                    author: "Patricia Vega",
                    image: "assets/Ampongot Rice Terraces (Sagubo).jpg",
                    content: "Witness the beauty of traditional rice terraces at Ampongot. Learn about sustainable farming practices and the cultural significance of rice cultivation in the Cordilleras.",
                }
            ]
        },
        {
            barangay: "Private Spot",
            blogs: [
                {
                    title: "Badol Camping Grounds: A Secluded Paradise",
                    date: "2025-06-18",
                    author: "Kapangan Wonders Team",
                    image: "assets/badolcamping.jpg",
                    content: "Escape to the serene Badol Camping Grounds, a private paradise nestled in the heart of Kapangan. This exclusive spot offers a perfect blend of adventure and tranquility, away from the crowds. Wake up to the sounds of nature and enjoy breathtaking mountain views.",
                },
                {
                    title: "Why Badol Camping Grounds Should Be Your Next Getaway",
                    date: "2025-06-20",
                    author: "Kapangan Wonders Team",
                    image: "assets/badolcamping.jpg",
                    content: "Discover why Badol Camping Grounds is becoming a favorite among nature lovers. With its well-maintained facilities, stunning landscapes, and peaceful atmosphere, it's the perfect destination for those seeking a private retreat in nature's embrace.",
                },
                {
                    title: "Stargazing at Badol: A Night Under the Stars",
                    date: "2025-06-22",
                    author: "Kapangan Wonders Team",
                    image: "assets/badolcamping.jpg",
                    content: "Experience the magic of stargazing at Badol Camping Grounds. Far from city lights, the night sky comes alive with countless stars, making it an ideal spot for astronomy enthusiasts and romantics alike. Don't forget to bring your camera for some amazing astrophotography!",
                }
            ]
        }
    ];

    // Render blog category tabs
    function renderBlogCategoryTabs(selectedBarangay) {
        const tabs = document.getElementById('blogCategoryTabs');
        if (!tabs) {
            console.error('blogCategoryTabs element not found');
            return;
        }
        tabs.innerHTML = '';
        sampleBlogs.forEach((cat, idx) => {
            const tab = document.createElement('div');
            tab.className = 'filter-tab' + (cat.barangay === selectedBarangay ? ' active' : '');
            tab.textContent = cat.barangay;
            tab.style.cursor = 'pointer';
            tab.onclick = () => {
                // Update active tab
                document.querySelectorAll('#blogCategoryTabs .filter-tab').forEach(t => t.classList.remove('active'));
                tab.classList.add('active');
                // Render blogs for selected barangay
                renderBlogs(cat.barangay);
            };
            tabs.appendChild(tab);
        });
    }

    // Render blogs for selected barangay
    function renderBlogs(selectedBarangay) {
        const blogGrid = document.getElementById('blogGrid');
        if (!blogGrid) {
            console.error('blogGrid element not found');
            return;
        }
        blogGrid.innerHTML = '';
        const category = sampleBlogs.find(cat => cat.barangay === selectedBarangay) || sampleBlogs[0];
        if (!category) {
            console.error('No category found for:', selectedBarangay);
            return;
        }
        
        category.blogs.forEach((blog, idx) => {
            const card = document.createElement('div');
            card.className = "blog-card";
            card.style.cursor = "pointer";
            card.onclick = (e) => {
                console.log('Blog card clicked:', blog.title);
                e.preventDefault();
                e.stopPropagation();
                openBlogModalCustom(blog, category.barangay);
            };

            card.innerHTML = `
                <div class="blog-image">
                    <img src="${blog.image}" alt="${blog.title}">
                </div>
                <div class="blog-content">
                    <div class="blog-date">${blog.date}</div>
                    <h3 class="blog-title">${blog.title}</h3>
                    <p class="blog-excerpt">${blog.content.substring(0, 120)}...</p>
                    <a href="#" class="read-more">Read more</a>
                </div>
            `;
            blogGrid.appendChild(card);
        });
    }

    function openBlogModalCustom(blog, barangay) {
        try {
            console.log('openBlogModalCustom called with:', blog.title);
            const modal = document.getElementById('blogModal');
            const modalContent = document.getElementById('blogModalContent');
            
            if (!modal || !modalContent) {
                console.error('Blog modal elements not found');
                console.log('Modal elements check:', {
                    modal: !!modal,
                    modalContent: !!modalContent
                });
                return;
            }
            
            // Create the blog content HTML
            const blogHTML = `
                <h2>${blog.title}</h2>
                <div class="blog-meta">
                    <span>Published: ${blog.date}</span> | 
                    <span>Barangay: ${barangay}</span> | 
                    <span>By: ${blog.author || 'Kapangan Tourism'}</span>
                </div>
                ${blog.image ? `<img src="${blog.image}" alt="${blog.title}" class="blog-image">` : ''}
                <div class="blog-content">
                    ${blog.content}
                </div>
            `;
            
            // Set the content
            modalContent.innerHTML = blogHTML;
            
            // Show the modal
            modal.style.display = 'flex';
            // Force reflow to ensure the display property is applied before adding the show class
            void modal.offsetHeight;
            modal.classList.add('show');
            document.body.style.overflow = 'hidden'; // Prevent scrolling when modal is open
            
            console.log('Blog modal opened successfully');
        } catch (error) {
            console.error('Error opening blog modal:', error);
        }
    }
    
    function closeBlogModal() {
        try {
            const modal = document.getElementById('blogModal');
            if (modal) {
                modal.classList.remove('show');
                document.body.style.overflow = ''; // Re-enable scrolling
                // Wait for the fade-out transition to complete before hiding the modal
                setTimeout(() => {
                    modal.style.display = 'none';
                }, 300);
            }
        } catch (error) {
            console.error('Error closing blog modal:', error);
        }
    }

    // Show blogs when blog section is visible
    function showBlogsCustom() {
        try {
            document.getElementById('mainContent').querySelectorAll('section').forEach(s => s.style.display = 'none');
            document.getElementById('blogSection').style.display = 'block';
            // Default to first barangay
            const defaultBarangay = sampleBlogs[0]?.barangay || '';
            renderBlogCategoryTabs(defaultBarangay);
            renderBlogs(defaultBarangay);
        } catch (error) {
            console.error('Error in showBlogsCustom:', error);
        }
    }
    
    // Initialize blog modal functionality
    document.addEventListener('DOMContentLoaded', function() {
        // Add click outside to close functionality
        const blogModal = document.getElementById('blogModal');
        if (blogModal) {
            // Make sure clicks on the modal content don't close the modal
            const modalContent = blogModal.querySelector('.modal-content');
            if (modalContent) {
                modalContent.addEventListener('click', function(e) {
                    e.stopPropagation();
                });
            }
            
            // Close when clicking on the modal background
            blogModal.addEventListener('click', function(e) {
                if (e.target === blogModal) {
                    closeBlogModal();
                }
            });
        }
        
        
    });
    </script>

    <!-- Move script.js here to ensure all DOM elements exist before script runs -->
    <script src="script.js"></script>
    <footer class="site-footer">
        <div class="container footer-container">
            <div class="footer-about">
                <h3>Kapangan Wonders</h3>
                <p>Discover the natural beauty and hidden gems of Kapangan, Benguet. Our tourism management system helps you explore and plan your visit to these magnificent destinations.</p>
            </div>
    
            <div class="footer-links">
                <h4>Quick Links</h4>
                <ul>
                    <li><a href="#" onclick="showHome()">Home</a></li>
                    <li><a href="#" onclick="showAllTouristSpots()">Tourist Spots</a></li>
                    <li><a href="#" onclick="showBlogsCustom()">Blogs</a></li>
                    <li><a href="#" onclick="showAccommodations()">Accommodations</a></li>
                    <li><a href="#" onclick="showContact()">Contact Us</a></li>
                </ul>
            </div>
    
            <div class="footer-contact">
                <h4>Contact Us</h4>
                <p>Municipal Tourism Office, Kapangan, Benguet</p>
                <p>+63 (123) 456-7890</p>
                <p><a href="mailto:info@kapanganwonders.com">info@kapanganwonders.com</a></p>
            </div>
        </div>
    
        <div class="footer-bottom">
            <p>&copy; 2025 Kapangan Wonders. All rights reserved. | <a href="#">Privacy Policy</a> | <a href="#">Terms of Service</a></p>
        </div>
    </footer>
    
    <script>
    function switchAnnouncementTab(tab) {
        const tabAnnouncement = document.getElementById('tabAnnouncement');
        const tabNotice = document.getElementById('tabNotice');
        const announcementsContainer = document.getElementById('announcementsContainer');
        const noticesContainer = document.getElementById('noticesContainer');
        if (tab === 'announcement') {
            tabAnnouncement.classList.add('active');
            tabNotice.classList.remove('active');
            announcementsContainer.style.display = 'block';
            noticesContainer.style.display = 'none';
            tabAnnouncement.style.background = '#fff';
            tabAnnouncement.style.color = '#3498db';
            tabNotice.style.background = '#eee';
            tabNotice.style.color = '';
        } else {
            tabAnnouncement.classList.remove('active');
            tabNotice.classList.add('active');
            announcementsContainer.style.display = 'none';
            noticesContainer.style.display = 'block';
            tabNotice.style.background = '#fff';
            tabNotice.style.color = '#3498db';
            tabAnnouncement.style.background = '#eee';
            tabAnnouncement.style.color = '';
        }
    }
    // --- Violation Announcements ---
    function renderViolationAnnouncements() {
        const container = document.getElementById('noticesContainer');
        if (!container) return;
        
        // Get current user email (if available)
        let userEmail = null;
        try {
            userEmail = localStorage.getItem('currentUserEmail') || null;
            if (!userEmail) {
                const emailInput = document.getElementById('profileEmail');
                if (emailInput) userEmail = emailInput.value;
            }
        } catch (e) { userEmail = null; }
        
        // Fetch violations from localStorage
        let violations = [];
        try {
            violations = JSON.parse(localStorage.getItem('userViolations') || '[]');
        } catch (e) { violations = []; }
        
        // Only show for this user if logged in
        if (userEmail) {
            violations = violations.filter(v => v.email === userEmail);
        }
        
        // Remove old violation announcements
        container.innerHTML = '';
        
        // Add sample violation announcements if no user violations exist
        if (violations.length === 0) {
            const sampleViolations = [
                {
                    violation: "Littering in tourist area - Please dispose of waste properly in designated bins",
                    date: new Date('2025-06-15T10:30:00'),
                    severity: "warning"
                },
                {
                    violation: "Unauthorized camping in restricted area - Camping is only allowed in designated camping grounds",
                    date: new Date('2025-06-10T14:15:00'),
                    severity: "moderate"
                },
                {
                    violation: "Feeding wildlife - Please do not feed wild animals as it disrupts their natural behavior",
                    date: new Date('2025-06-05T09:45:00'),
                    severity: "warning"
                },
                {
                    violation: "Off-trail hiking - Stay on marked trails to protect the environment and ensure your safety",
                    date: new Date('2025-05-28T16:20:00'),
                    severity: "moderate"
                },
                {
                    violation: "Noise disturbance - Please keep noise levels down to respect other visitors and wildlife",
                    date: new Date('2025-05-20T11:10:00'),
                    severity: "warning"
                },
                {
                    violation: "Smoking in non-designated areas - Smoking is only allowed in designated smoking areas",
                    date: new Date('2025-05-15T13:30:00'),
                    severity: "warning"
                },
                {
                    violation: "Bringing pets without permission - Pets are not allowed in most tourist areas unless specifically permitted",
                    date: new Date('2025-05-10T08:45:00'),
                    severity: "moderate"
                },
                {
                    violation: "Removing natural resources - Please do not take plants, rocks, or other natural items from the area",
                    date: new Date('2025-05-05T15:20:00'),
                    severity: "serious"
                }
            ];
            
            // Add sample violations to container
            sampleViolations.forEach(v => {
                const div = document.createElement('div');
                div.className = 'announcement violation-announcement';
                
                // Determine severity color
                let severityColor = '#e63946'; // default red
                let severityText = 'Violation Notice';
                if (v.severity === 'warning') {
                    severityColor = '#f39c12'; // orange
                    severityText = 'Warning Notice';
                } else if (v.severity === 'moderate') {
                    severityColor = '#e67e22'; // dark orange
                    severityText = 'Moderate Violation';
                } else if (v.severity === 'serious') {
                    severityColor = '#c0392b'; // dark red
                    severityText = 'Serious Violation';
                }
                
                div.innerHTML = `
                    <div class="announcement-icon violation" style="background-color: ${severityColor};">
                        <i class="fas fa-exclamation-triangle"></i>
                    </div>
                    <div class="announcement-content">
                        <h3 style="color:${severityColor};">${severityText}</h3>
                        <p><strong>Reason:</strong> ${v.violation}</p>
                        <div class="announcement-meta">
                            <span><i class="fas fa-calendar"></i> ${v.date.toLocaleDateString()}</span>
                            <span><i class="fas fa-clock"></i> ${v.date.toLocaleTimeString()}</span>
                        </div>
                    </div>
                `;
                container.appendChild(div);
            });
        } else {
            // Add actual user violation announcements
            violations.forEach(v => {
                const div = document.createElement('div');
                div.className = 'announcement violation-announcement';
                div.innerHTML = `
                    <div class="announcement-icon violation">
                        <i class="fas fa-exclamation-triangle"></i>
                    </div>
                    <div class="announcement-content">
                        <h3 style="color:#e63946;">Violation Notice</h3>
                        <p><strong>Reason:</strong> ${v.violation}</p>
                        <div class="announcement-meta">
                            <span><i class="fas fa-calendar"></i> ${new Date(v.date).toLocaleDateString()}</span>
                            <span><i class="fas fa-clock"></i> ${new Date(v.date).toLocaleTimeString()}</span>
                        </div>
                    </div>
                `;
                container.appendChild(div);
            });
        }
    }
    // Call on dashboard load
    if (document.getElementById('noticesContainer')) {
        renderViolationAnnouncements();
    }
    </script>

    <!-- Spot Modal -->
    <div id="spotModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal()">&times;</span>
            <div class="spot-modal-content" id="spotModalContent">
                <!-- Spot content will be dynamically inserted here -->
            </div>
        </div>
    </div>

    <!-- Blog Modal -->
    <div id="blogModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeBlogModal()">&times;</span>
            <div class="blog-modal-content" id="blogModalContent">
                <!-- Blog content will be dynamically inserted here -->
            </div>
        </div>
    </div>

</body>
</html>